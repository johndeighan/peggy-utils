{
  "version": 3,
  "file": "OpDumper.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\lib\\OpDumper.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "# OpDumper.coffee\r\n\r\nimport fs from 'node:fs'\r\nimport {\r\n\tundef, defined, notdefined, isString,\r\n\tassert, croak, range,\r\n\t} from '@jdeighan/llutils'\r\nimport {indented, undented} from '@jdeighan/llutils/indent'\r\n\r\n# ---------------------------------------------------------------------------\r\n# --- valid options:\r\n#        char - char to use on left and right\r\n#        buffer - num spaces around text when char <> ' '\r\n\r\nexport centered = (text, width, hOptions={}) =>\r\n\r\n\t{char} = hOptions\r\n\r\n\tnumBuffer = hOptions.numBuffer || 2\r\n\r\n\ttotSpaces = width - text.length\r\n\tif (totSpaces <= 0)\r\n\t\treturn text\r\n\tnumLeft = Math.floor(totSpaces / 2)\r\n\tnumRight = totSpaces - numLeft\r\n\tif (char == ' ')\r\n\t\treturn spaces(numLeft) + text + spaces(numRight)\r\n\telse\r\n\t\tbuf = ' '.repeat(numBuffer)\r\n\t\tleft = char.repeat(numLeft - numBuffer)\r\n\t\tright = char.repeat(numRight - numBuffer)\r\n\t\tnumLeft -= numBuffer\r\n\t\tnumRight -= numBuffer\r\n\t\treturn left + buf + text + buf + right\r\n\r\n# --------------------------------------------------------------------------\r\n\r\nexport class OpDumper\r\n\r\n\tconstructor: (@name) ->\r\n\r\n\t\t@level = 0\r\n\t\t@lLines = []\r\n\r\n\t# ..........................................................\r\n\r\n\tsetStack: (stack) ->\r\n\r\n\t\t@stack = stack\r\n\t\treturn\r\n\r\n\t# ..........................................................\r\n\r\n\tincLevel: () -> @level += 1\r\n\tdecLevel: () -> @level -= 1\r\n\r\n\t# ..........................................................\r\n\r\n\tout: (str) ->\r\n\t\t@lLines.push \"  \".repeat(@level) + str\r\n\t\treturn\r\n\r\n\t# ..........................................................\r\n\r\n\toutBC: (lByteCodes) ->\r\n\r\n\t\t@out 'OPCODES: ' + lByteCodes.map((x) => x.toString()).join(' ');\r\n\t\treturn\r\n\r\n\t# ..........................................................\r\n\r\n\toutCode: (lLines, label) ->\r\n\r\n\t\twidth = 34\r\n\t\tif ! label then label = \"UNKNOWN\"\r\n\t\t@out centered(label, width, {char: '-'})\r\n\t\tfor line in lLines\r\n\t\t\t@out line\r\n\t\t@out '-'.repeat(width)\r\n\t\treturn\r\n\r\n\t# ..........................................................\r\n\r\n\tcontents: () ->\r\n\r\n\t\treturn @lLines.join(\"\\n\")\r\n\r\n\t# ..........................................................\r\n\r\n\twriteTo: (filePath) ->\r\n\r\n\t\tconsole.log \"Writing opcodes to #{filePath}\"\r\n\t\tfs.writeFileSync(filePath, @contents())\r\n\t\treturn\r\n"
  ]
}